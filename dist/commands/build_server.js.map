{"version":3,"sources":["../../src/commands/build_server.js"],"names":[],"mappings":";;;;;;;;8BAA+E,oBAAoB;;iCACxE,uBAAuB;;8BAC1B,oBAAoB;;;;sCAChB,4BAA4B;;;;qBAEzC,UAAC,WAAW,EAAE,IAAI,EAAK;AACpC,MAAM,MAAM,GAAG,oCAAY,CAAC;;AAE5B,wDAA+B,0CAAqB,WAAW,CAAC,CAAG,CAAC;AACpE,MAAM,kBAAkB,GAAG;AACzB,2BAAuB,EAAE,4CAAuB;AAChD,sBAAkB,EAAE,wCAAmB;GACxC,CAAC;AACF,2CAAgB,EAAE,MAAM,EAAN,MAAM,EAAE,WAAW,EAAX,WAAW,EAAE,kBAAkB,EAAlB,kBAAkB,EAAE,EAAE,CAAC,eAAe,CAAC,CAAC,CAAC;AAChF,MAAI,CAAC,IAAI,EAAE,cAAc,CAAC,CAAC;CAC5B","file":"build_server.js","sourcesContent":["import { getBuildNumberFromGit, getFullVersionString, getVersionFromTag } from '../utils/git_utils';\nimport { readConfig } from '../utils/config_utils';\nimport actionTitle from '../ui/action_title';\nimport execMeteorBuild from '../build/exec_meteor_build';\n\nexport default (environment, done) => {\n  const config = readConfig();\n  // read build params\n  actionTitle(`building server ${getFullVersionString(environment)}`);\n  const additionalBuildEnv = {\n    SERVER_APP_BUILD_NUMBER: getBuildNumberFromGit(),\n    SERVER_APP_VERSION: getVersionFromTag(),\n  };\n  execMeteorBuild({ config, environment, additionalBuildEnv }, ['--server-only']);\n  done(null, 'server built');\n};\n"]}