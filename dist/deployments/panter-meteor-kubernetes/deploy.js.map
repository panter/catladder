{"version":3,"sources":["../../../src/deployments/panter-meteor-kubernetes/deploy.js"],"names":[],"mappings":";;;;;;8BAAqC,uBAAuB;;iCACjC,0BAA0B;;qBAEtC,UAAC,WAAW,EAAE,IAAI,EAAK;oBACA,oCAAY;;wCAAxC,OAAO;MAAP,OAAO,uCAAG,aAAa;;AAC/B,SAAO,CAAC,GAAG,CAAC,yCAAyC,CAAC,CAAC;AACvD,SAAO,CAAC,GAAG,CAAC,oCAAoC,CAAC,CAAC;AAClD,SAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;AAClB,SAAO,CAAC,GAAG,sBAAoB,OAAO,QAAK,CAAC;AAC5C,MAAM,UAAU,GAAG,0CAAqB,WAAW,CAAC,CAAC;AACrD,MAAM,aAAa,6BAA2B,OAAO,SAAI,UAAU,AAAE,CAAC;AACtE,SAAO,CAAC,GAAG,iBAAe,OAAO,SAAI,aAAa,CAAG,CAAC;AACtD,SAAO,CAAC,GAAG,kBAAgB,aAAa,CAAG,CAAC;AAC5C,SAAO,CAAC,GAAG,+BAA6B,WAAW,oBAAe,OAAO,6BAAwB,UAAU,OAAI,CAAC;AAChH,SAAO,CAAC,GAAG,+BAA6B,WAAW,oBAAe,OAAO,0BAAqB,UAAU,OAAI,CAAC;AAC7G,SAAO,CAAC,GAAG,4BAA0B,WAAW,oBAAe,OAAO,iBAAc,CAAC;AACrF,SAAO,CAAC,GAAG,4BAA0B,WAAW,oBAAe,OAAO,cAAW,CAAC;AAClF,MAAI,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;CACpB","file":"deploy.js","sourcesContent":["import { getFullVersionString } from '../../utils/git_utils';\nimport { readConfig } from '../../utils/config_utils';\n\nexport default (environment, done) => {\n  const { appname = 'unknown app' } = readConfig();\n  console.log('would do the following if implemented: ');\n  console.log('(but you can do it manually! ðŸ˜½  )');\n  console.log('  ');\n  console.log(`docker build -t ${appname} .`);\n  const versionTag = getFullVersionString(environment);\n  const fullImageName = `gcr.io/skynet-164509/${appname}:${versionTag}`;\n  console.log(`docker tag ${appname} ${fullImageName}`);\n  console.log(`docker push ${fullImageName}`);\n  console.log(`generate or adjust: kube/${environment}/deployment.${appname}_worker.yml (add tag ${versionTag})`);\n  console.log(`generate or adjust: kube/${environment}/deployment.${appname}_web.yml (add tag ${versionTag})`);\n  console.log(`kubectl apply -f kube/${environment}/deployment.${appname}_worker.yml`);\n  console.log(`kubectl apply -f kube/${environment}/deployment.${appname}_web.yml`);\n  done(null, 'done');\n};\n"]}